<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Features - Book of crosvm</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../building_crosvm/index.html"><strong aria-hidden="true">2.</strong> Building Crosvm</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../building_crosvm/linux.html"><strong aria-hidden="true">2.1.</strong> For Linux</a></li><li class="chapter-item expanded "><a href="../building_crosvm/chromium_os.html"><strong aria-hidden="true">2.2.</strong> For Chromium OS</a></li></ol></li><li class="chapter-item expanded "><a href="../running_crosvm/index.html"><strong aria-hidden="true">3.</strong> Running Crosvm</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../running_crosvm/basic_usage.html"><strong aria-hidden="true">3.1.</strong> Basic Usage</a></li><li class="chapter-item expanded "><a href="../running_crosvm/usage.html"><strong aria-hidden="true">3.2.</strong> Command Line Options</a></li><li class="chapter-item expanded "><a href="../running_crosvm/requirements.html"><strong aria-hidden="true">3.3.</strong> System Requirements</a></li><li class="chapter-item expanded "><a href="../running_crosvm/features.html" class="active"><strong aria-hidden="true">3.4.</strong> Features</a></li><li class="chapter-item expanded "><a href="../running_crosvm/devices.html"><strong aria-hidden="true">3.5.</strong> Devices</a></li></ol></li><li class="chapter-item expanded "><a href="../architecture.html"><strong aria-hidden="true">4.</strong> Architecture</a></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">5.</strong> Contributing</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../onboarding.html"><strong aria-hidden="true">6.</strong> Onboarding Resources</a></li><li class="chapter-item expanded "><a href="../appendix/index.html"><strong aria-hidden="true">7.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendix/example_usage.html"><strong aria-hidden="true">7.1.</strong> Example Usage (Outdated)</a></li><li class="chapter-item expanded "><a href="../appendix/sandboxing.html"><strong aria-hidden="true">7.2.</strong> Sandboxing</a></li><li class="chapter-item expanded "><a href="../appendix/seccomp.html"><strong aria-hidden="true">7.3.</strong> Seccomp</a></li><li class="chapter-item expanded "><a href="../appendix/minijail.html"><strong aria-hidden="true">7.4.</strong> Minijail</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../api.html">API Documentation</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Book of crosvm</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="features"><a class="header" href="#features">Features</a></h1>
<p>These features can be enabled using cargo's <code>--features</code> flag. Refer to the
top-level <code>Cargo.toml</code> file to see which features are enabled by default.</p>
<h2 id="audio"><a class="header" href="#audio"><code>audio</code></a></h2>
<p>Enables experimental audio input/ouput to the host. Requires some Chrome OS
specific dependencies and daemons currently.</p>
<h2 id="chromeos"><a class="header" href="#chromeos"><code>chromeos</code></a></h2>
<p>This option enables features specific to a Chrome OS environment. Examples of
that are usage of non-upstream kernel security features in the Chrome OS kernel,
which should be temporary until upstream catches up. Another example would be
code to use Chrome OS system daemons like the low memory notifier.</p>
<p>These features exist because crosvm was historically a Chrome OS only project,
but crosvm is intended to be OS agnostic now. If Chrome OS specific code is
identified, it should be conditionally compiled in using this feature.</p>
<h2 id="composite-disk"><a class="header" href="#composite-disk"><code>composite-disk</code></a></h2>
<p>Enables the composite-disk format, which adds protobufs as a dependency of the
build. This format is intended to speed up crosvm's usage in CI environments
that might otherwise have to concatenate large file system images into a single
disk image.</p>
<h2 id="default-no-sandbox"><a class="header" href="#default-no-sandbox"><code>default-no-sandbox</code></a></h2>
<p>This feature is useful only in testing so that the <code>--disable-sandbox</code> flag
doesn't need to be passed to crosvm every invocation. It is not secure to deploy
crosvm with this flag.</p>
<h2 id="direct"><a class="header" href="#direct"><code>direct</code></a></h2>
<p>Enables a set of features to passthrough devices to the guest via VFIO.</p>
<h2 id="gdb"><a class="header" href="#gdb"><code>gdb</code></a></h2>
<p>Enables using gdb to debug the guest kernel.</p>
<h2 id="gfxstream"><a class="header" href="#gfxstream"><code>gfxstream</code></a></h2>
<p>Enables 3D acceleration for guest via the <code>gfxstream</code> protocol over virtio-gpu.
This is used for compatibility with the Android Emulator. The protocol provides
the best speed and compatibility with GL/vulkan versions by forwarding the
guest's calls to the host's graphics libraries and GPU. However, this means the
sandbox is not enabled for the virtio-gpu device.</p>
<h2 id="gpu"><a class="header" href="#gpu"><code>gpu</code></a></h2>
<p>Enables basic virtio-gpu support. This includes basic display and input
features, but lacks 3D acceleration in the absence of other crosvm features.</p>
<h2 id="plugin"><a class="header" href="#plugin"><code>plugin</code></a></h2>
<p>Enables the plugin mode of crosvm. The plugin mode delegates almost all device
emulation to a sandboxed child process. Unless you know what you're doing, you
almost certainly don't need this feature.</p>
<h2 id="power-monitor-powerd"><a class="header" href="#power-monitor-powerd"><code>power-monitor-powerd</code></a></h2>
<p>Enables emulation of a battery using the host's power information provided by
<a href="https://chromium.googlesource.com/chromiumos/platform2/+/master/power_manager/README.md">powerd</a>.</p>
<h2 id="tpm"><a class="header" href="#tpm"><code>tpm</code></a></h2>
<p>Enables trusted platform module emulation for the guest. This relies on the
software emulated vTPM implementation from <code>libtpm2</code> which is suited only for
testing purposes.</p>
<h2 id="usb"><a class="header" href="#usb"><code>usb</code></a></h2>
<p>Enables USB host device passthrough via an emulated XHCI controller.</p>
<h2 id="video-decodervideo-encoder"><a class="header" href="#video-decodervideo-encoder"><code>video-decoder</code>/<code>video-encoder</code></a></h2>
<p>Enables the unstable virtio video encoder or decoder devices.</p>
<h2 id="virgl_renderervirgl_renderer_next"><a class="header" href="#virgl_renderervirgl_renderer_next"><code>virgl_renderer</code>/<code>virgl_renderer_next</code></a></h2>
<p>Enables 3D acceleration for the guest via the <code>virglrenderer</code> library over
virtio-gpu. The <code>virgl_renderer_next</code> variant is used to enable in development
features of <code>virglrenderer</code> to support newer OpenGL versions.</p>
<h2 id="wl"><a class="header" href="#wl"><code>wl</code></a></h2>
<p>Enables the non-upstream virtio wayland protocol. This can be used in conjuction
with the <code>gpu</code> feature to enable a zero-copy display pipeline.</p>
<h2 id="x"><a class="header" href="#x"><code>x</code></a></h2>
<p>Enables the usage of the X11 protocol for display on the host.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../running_crosvm/requirements.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../running_crosvm/devices.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../running_crosvm/requirements.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../running_crosvm/devices.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../mermaid.min.js"></script>
        <script type="text/javascript" src="../mermaid-init.js"></script>
    </body>
</html>
